<div class="container">
  <div class="d-flex flex-row justify-content-center">
    <button type="button" class="btn btn-outline-primary" routerLink="/beers">Beers</button>
    <button type="button" class="btn btn-outline-primary" routerLink="/types">Types</button>
    <button type="button" class="btn btn-outline-primary" routerLink="/brands">Brands</button>
  </div>

  <label>
    Items Pr Page:
    <select class="form-control" [(ngModel)]="itemsPrPage" (ngModelChange)="itemsPrPageUpdate()">
      <option value="10">10</option>
      <option value="25">25</option>
      <option value="50">50</option>
    </select>
  </label>

  <input #searchBox id="search-box" (input)="search(searchBox.value)"/>

  <h3 align="center">Brands List:</h3>
  <progressbar class="progress center-block" *ngIf="loading" max="100" [value]="100" type="success" [striped]="true" [animate]="true">Loading...</progressbar>

  <div id="table">
      <table *ngIf="!loading" class="table-">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Description</th>
        </tr>
        <tr class="data" *ngFor="let brand of brands">
          <th class="row"><a routerLink="">{{brand.id}}</a></th>
          <td><a routerLink="">{{brand.brandName}}</a></td>
          <button type="button" class="btn btn-outline-dark" routerLink="/brands/update/{{brand.id}}">Update</button>
          <button type="button" class="btn btn-outline-danger" (click)="openDeleteModal(deleteTemplate, brand)">X</button>
        </tr>
      </table>
    </div>

<div class="col text-center">
  <button class="btn btn-success" routerLink="register">Add brand!</button>
</div>

<div class="">
  <div class="row">
    <pagination
      [maxSize]="5"
      [directionLinks]="false"
      [totalItems]="totalItems"
      [(ngModel)]="currentPage"
      (pageChanged)="pageChanged($event)"
      [itemsPerPage]="itemsPrPage"
      (numPages)="smallNumPages = $event">
    </pagination>
  </div>

  <div class="row">
    <pager
      [totalItems]="totalItems"
      [(ngModel)]="currentPage"
      (pageChanged)="pageChanged($event)"
      pageBtnClass="btn"
      [itemsPerPage]="itemsPrPage"
      class="pull-left">
    </pager>
  </div>
</div>

</div>

<ng-template #deleteTemplate>
  <div class="modal-header">
    <h4 class="modal-title w-100 text-center">Confirmation</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>Are you sure you want to delete <b>{{selectedBrand.brandName}}</b>?</p>
    <div class="float-right">
      <button (click)="modalRef.hide()" type="button" class="btn btn-secondary" >Cancel</button>
      <button (click)="modalRef.hide(); deleteBrand(selectedBrand.id);" type="button" class="btn btn-danger">Delete</button>
    </div>
  </div>
</ng-template>
